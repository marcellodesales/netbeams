


<html>
<head>
<title>KPI Rule Editor</title>

<link href='resources/netbeams.css' rel='stylesheet' type='text/css' />

<script language="JavaScript" src="resources/JSCollections.js"></script>
<script language="JavaScript" src="resources/dynapi/dynapi.js"></script>
<script language="Javascript">
	dynapi.library.setPath('resources/dynapi/');
	dynapi.library.include('dynapi.api');
	dynapi.library.include('BorderManager');
	dynapi.library.include('FocusManager');
	dynapi.library.include('DragEvent');
	dynapi.library.include('dynapi.gui.Stacker');
	dynapi.library.include('dynapi.gui.HTMLComponent');
	dynapi.library.include('dynapi.gui.HTMLDropDownMenu');
</script>
<script language="JavaScript" src="resources/kpi/kpi.js"></script>
<script language="JavaScript" src="resources/kpi/shape.js"></script>
<script language="JavaScript" src="resources/kpi/statement.js"></script>
<script language="JavaScript" src="resources/kpi/block.js"></script>
<script language="JavaScript" src="resources/kpi/if.js"></script>
<script language="JavaScript" src="resources/kpi/loop.js"></script>
<script language="JavaScript" src="resources/kpi/function.js"></script>
<script language="JavaScript" src="resources/kpi/toolbar.js"></script>
<script language="JavaScript" src="resources/kpi/connector.js"></script>
<script language="JavaScript" src="resources/kpi/drop_in_list.js"></script>


<script language="Javascript">

	KPI.RESOURCES_PATH = "resources/kpi/images/";



	list = new DropInList (100, 100, 200, 300, null, DropInList.CENTER_ALIGNMENT);
	list.setOrientation(DropInList.VERTICAL);
	list.setBorder(1, "solid", "#000000");
	list.setPadding(30);
	list.name = "list1";
	DragEvent.enableDragEvents(list);
	
	

	list2 = new DropInList (300, 100, 200, 300, null, DropInList.CENTER_ALIGNMENT);
	list2.setOrientation(DropInList.HORIZONTAL);
	list2.setBorder(1, "solid", "#000000");
	list2.setPadding(30);
	list2.name = "list2";
	DragEvent.enableDragEvents(list2);

	
	dynapi.document.addChild(list);
	dynapi.document.addChild(list2);


	layer = new DynLayer(null, 0, 0, 400, 70, "#eeeeee");
	dynapi.document.addChild(layer);
	

	layer1 = new DynLayer(null, 10, 10, 50, 50, "#ff0000");
	layer1.setDragEnabled(true,null,true);
	layer1.name = "red";
	layer1.setDragIcon(new DynLayer(null, 0, 0, 100, 20, "#ff0000"));
	layer1.getDragIcon().name = "red";
	DragEvent.enableDragEvents(layer1._dragIcon);
	layer1.addEventListener({
		ondragend: function (e) {
			if (e.getSource()._dragIcon.parent != dynapi.document) {
				dragIcon = e.getSource().getDragIcon();
				dragIcon.setVisible(true);
				layer1.setDragIcon(new DynLayer(null, 0, 0, 100, 20, "#ff0000"));
				layer1.getDragIcon().name = "red";
				DragEvent.enableDragEvents(layer1._dragIcon);
			}
		}
	});
	layer.addChild(layer1);

	
	
	layer2 = new DynLayer(null, 100, 10, 50, 50, "#00ff00");
	layer2.setDragEnabled(true,null,true);
	layer2.setDragIcon(new DynLayer(null, 0, 0, 100, 20, "#00ff00"));
	layer2.getDragIcon().name = "green";
	DragEvent.enableDragEvents(layer2._dragIcon);
	layer2.addEventListener({
		ondragend: function (e) {
			if (e.getSource()._dragIcon.parent != dynapi.document) {
				dragIcon = e.getSource().getDragIcon();
				dragIcon.setVisible(true);
				layer2.setDragIcon(new DynLayer(null, 0, 0, 100, 20, "#0ff000"));
				layer2.getDragIcon().name = "green";
				DragEvent.enableDragEvents(layer2._dragIcon);
			}
		}
	});
	layer.addChild(layer2);

	

	layer3 = new DynLayer(null, 200, 10, 50, 50, "#0000ff");
	layer3.setDragEnabled(true,null,true);
	layer3.setDragIcon(new DynLayer(null, 0, 0, 100, 20, "#0000ff"));
	layer3.getDragIcon().name = "blue";
	DragEvent.enableDragEvents(layer3._dragIcon);
	layer3.addEventListener({
		ondragend: function (e) {
			if (e.getSource()._dragIcon.parent != dynapi.document) {
				dragIcon = e.getSource().getDragIcon();
				dragIcon.setVisible(true);
				layer3.setDragIcon(new DynLayer(null, 0, 0, 100, 20, "#0000ff"));
				layer3.getDragIcon().name = "blue";
				DragEvent.enableDragEvents(layer3._dragIcon);
			}
		}
	});
	layer.addChild(layer3);






	dynapi.document.addEventListener({
		onmousemove: function (e) {
//			window.status = e.getPageX() + "   " + e.getPageY();
		},
		
		
		ondblclick: function (e) {
		
			items = list.getItems();
			var n = items.getSize();
			
			var result = "";
			for (var i = 0; i < n; i++) {
				result = result + items.getElementAt(i).parent + "  " + items.getElementAt(i).getVisible() + "\n";
			}
			
//			alert(result);
		}
	});
	
</script>




</head>
<body>
<script>
	dynapi.document.insertAllChildren();
</script>
</body>
</html>









